<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Ammi!</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Nunito:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Nunito', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            position: relative;
        }

        .container {
            text-align: center;
            padding: 20px;
            max-width: 800px;
            width: 90%;
            z-index: 20;
        }

        /* Skip button */
        .skip-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.8);
            border: none;
            padding: 10px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            z-index: 100;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }

        .skip-btn:hover {
            background: rgba(255, 255, 255, 1);
            transform: translateY(-2px);
        }

        /* Birthday Text Animation */
        .birthday-text {
            font-size: 4rem;
            font-weight: bold;
            margin-bottom: 30px;
            color: #fff;
            text-shadow: 
                0 0 5px #ff4da6, 
                0 0 10px #ff4da6, 
                0 0 20px #ff4da6, 
                0 0 40px #ff4da6,
                0 0 80px #ff4da6;
            animation: neonGlow 2s infinite alternate, fadeIn 1.5s ease-out;
        }

        @keyframes neonGlow {
            from {
                text-shadow: 
                    0 0 5px #ff4da6, 
                    0 0 10px #ff4da6, 
                    0 0 20px #ff4da6, 
                    0 0 40px #ff4da6,
                    0 0 80px #ff4da6;
            }
            to {
                text-shadow: 
                    0 0 5px #ff4da6, 
                    0 0 10px #ff4da6, 
                    0 0 20px #ff4da6, 
                    0 0 40px #ff4da6,
                    0 0 90px #ff4da6,
                    0 0 120px #ff4da6;
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Heart Timer */
        .heart-timer {
            width: 120px;
            height: 120px;
            margin: 0 auto 30px;
            position: relative;
            animation: heartbeat 1.5s infinite;
        }

        .heart-timer:before,
        .heart-timer:after {
            content: '';
            width: 120px;
            height: 190px;
            position: absolute;
            background: #ff5e62;
            border-radius: 120px 120px 0 0;
            transform: rotate(-45deg);
            transform-origin: 0 100%;
            box-shadow: 0 0 20px rgba(255, 94, 98, 0.6);
        }

        .heart-timer:after {
            left: 0;
            transform: rotate(45deg);
            transform-origin: 100% 100%;
        }

        .timer-count {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3rem;
            color: white;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        @keyframes heartbeat {
            0% { transform: scale(1); }
            15% { transform: scale(1.15); }
            30% { transform: scale(1); }
            45% { transform: scale(1.15); }
            60% { transform: scale(1); }
            100% { transform: scale(1); }
        }

        /* Birthday Wish */
        .birthday-wish {
            font-size: 1.5rem;
            line-height: 1.8;
            margin-bottom: 30px;
            color: #333;
            background: rgba(255, 255, 255, 0.9);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            opacity: 0;
            transform: translateY(20px) scale(0.95);
            transition: all 1s ease;
        }

        .birthday-wish.show {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        .urdu-text {
            font-family: 'Noto Nastaliq Urdu', serif;
            font-size: 2rem;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .english-text {
            font-style: italic;
            color: #666;
        }

        /* Love Message */
        .love-message {
            font-size: 2rem;
            font-weight: bold;
            color: #ff5e62;
            margin: 30px 0;
            font-family: 'Dancing Script', cursive;
            opacity: 0;
            transform: scale(0.8);
            transition: all 1s ease;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .love-message.show {
            opacity: 1;
            transform: scale(1);
        }

        /* Heart Button */
        .heart-btn {
            display: inline-block;
            width: 70px;
            height: 70px;
            background: #ff5e62;
            position: relative;
            transform: rotate(45deg);
            cursor: pointer;
            margin: 20px auto;
            box-shadow: 0 5px 15px rgba(255, 94, 98, 0.4);
            animation: pulse 2s infinite;
            transition: all 0.3s ease;
            border: none;
            outline: none;
        }

        .heart-btn:hover {
            transform: rotate(45deg) scale(1.1);
            box-shadow: 0 8px 20px rgba(255, 94, 98, 0.6);
        }

        .heart-btn:before,
        .heart-btn:after {
            content: '';
            width: 70px;
            height: 70px;
            background: #ff5e62;
            border-radius: 50%;
            position: absolute;
            transition: all 0.3s ease;
        }

        .heart-btn:before {
            top: -35px;
            left: 0;
        }

        .heart-btn:after {
            top: 0;
            left: -35px;
        }

        .heart-btn span {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-45deg);
            color: white;
            font-weight: bold;
            z-index: 1;
            font-size: 0.9rem;
        }

        @keyframes pulse {
            0% { transform: rotate(45deg) scale(1); }
            50% { transform: rotate(45deg) scale(1.1); }
            100% { transform: rotate(45deg) scale(1); }
        }

        /* Music Button */
        .music-btn {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.8);
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }

        .music-btn:hover {
            background: rgba(255, 255, 255, 1);
            transform: scale(1.1);
        }

        .music-btn svg {
            width: 24px;
            height: 24px;
        }

        /* Canvas for fireworks */
        #fireworks {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 5;
            pointer-events: none;
        }

        /* Confetti */
        .confetti {
            position: absolute;
            width: 12px;
            height: 12px;
            opacity: 0.7;
            animation: fall linear forwards;
            z-index: 10;
        }

        @keyframes fall {
            to { transform: translateY(100vh) rotate(720deg); }
        }

        /* Balloons */
        .balloon {
            position: absolute;
            width: 60px;
            height: 70px;
            border-radius: 50%;
            animation: float 15s ease-in infinite;
            z-index: 10;
        }

        .balloon:before {
            content: '';
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 2px;
            height: 40px;
            background: rgba(0, 0, 0, 0.3);
        }

        @keyframes float {
            0% { transform: translateY(100vh) rotate(0deg); }
            100% { transform: translateY(-100px) rotate(20deg); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .birthday-text {
                font-size: 2.5rem;
            }
            
            .birthday-wish {
                font-size: 1.2rem;
                padding: 20px;
            }
            
            .urdu-text {
                font-size: 1.6rem;
            }
            
            .love-message {
                font-size: 1.8rem;
            }
            
            .heart-timer {
                width: 100px;
                height: 100px;
            }
            
            .heart-timer:before,
            .heart-timer:after {
                width: 100px;
                height: 160px;
            }
            
            .timer-count {
                font-size: 2.5rem;
            }
        }

        @media (max-width: 480px) {
            .birthday-text {
                font-size: 2rem;
            }
            
            .birthday-wish {
                font-size: 1rem;
                padding: 15px;
            }
            
            .urdu-text {
                font-size: 1.3rem;
            }
            
            .love-message {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <button class="skip-btn" aria-label="Skip animation">Skip</button>
    
    <button class="music-btn" aria-label="Toggle music">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 3V21M8 6V18M16 6V18M20 9V15M4 9V15" stroke="#ff5e62" stroke-width="2" stroke-linecap="round"/>
        </svg>
    </button>
    
    <canvas id="fireworks"></canvas>
    
    <div class="container">
        <h1 class="birthday-text">HAPPY BIRTHDAY AMMI</h1>
        
        <div class="heart-timer">
            <div class="timer-count">3</div>
        </div>
        
        <div class="birthday-wish">
            <p class="urdu-text">پیارے امی، آپ میری زندگی کا وہ روشن چراغ ہیں جس نے ہمیشہ مجھے رہنمائی اور محبت دی۔ اللہ آپ کو صحت، سکون، اور خوشیوں سے بھرپور زندگی عطا کرے۔ جنم دن مبارک امی!</p>
            <p class="english-text">Dear Ammi, wishing you health, love and countless blessings. Happy Birthday!</p>
        </div>
        
        <div class="heart-btn continue-btn-1" aria-label="Continue to next message">
            <span>Continue</span>
        </div>
        
        <p class="love-message">With Love, Uzma ❤️</p>
        
        <div class="heart-btn continue-btn-2" aria-label="Send reply on WhatsApp">
            <span>Send</span>
        </div>
    </div>

    <audio id="bgMusic" loop>
        <source src="https://assets.mixkit.co/music/preview/mixkit-happy-birthday-to-you-123.mp3" type="audio/mpeg">
    </audio>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Elements
            const skipBtn = document.querySelector('.skip-btn');
            const musicBtn = document.querySelector('.music-btn');
            const bgMusic = document.getElementById('bgMusic');
            const birthdayText = document.querySelector('.birthday-text');
            const heartTimer = document.querySelector('.heart-timer');
            const timerCount = document.querySelector('.timer-count');
            const birthdayWish = document.querySelector('.birthday-wish');
            const continueBtn1 = document.querySelector('.continue-btn-1');
            const loveMessage = document.querySelector('.love-message');
            const continueBtn2 = document.querySelector('.continue-btn-2');
            const fireworksCanvas = document.getElementById('fireworks');
            const ctx = fireworksCanvas.getContext('2d');
            
            // Set canvas size
            function resizeCanvas() {
                fireworksCanvas.width = window.innerWidth;
                fireworksCanvas.height = window.innerHeight;
            }
            
            window.addEventListener('resize', resizeCanvas);
            resizeCanvas();
            
            // Initial state
            heartTimer.style.display = 'none';
            birthdayWish.style.display = 'none';
            loveMessage.style.display = 'none';
            continueBtn1.style.display = 'none';
            continueBtn2.style.display = 'none';
            
            // Skip animation
            skipBtn.addEventListener('click', function() {
                skipAnimation();
            });
            
            // Music control
            let musicPlaying = false;
            
            musicBtn.addEventListener('click', function() {
                if (musicPlaying) {
                    bgMusic.pause();
                    musicBtn.style.opacity = '0.7';
                } else {
                    bgMusic.play().catch(e => console.log("Autoplay prevented: ", e));
                    musicBtn.style.opacity = '1';
                }
                musicPlaying = !musicPlaying;
            });
            
            // Try to autoplay music
            setTimeout(() => {
                bgMusic.play().catch(e => {
                    console.log("Autoplay prevented: ", e);
                    musicBtn.style.opacity = '0.7';
                });
            }, 1000);
            
            // Create background elements
            createConfetti();
            createBalloons();
            
            // Start the animation sequence
            setTimeout(() => {
                startHeartTimer();
            }, 4000);
            
            // Fireworks animation
            let fireworks = [];
            let particles = [];
            
            class Firework {
                constructor() {
                    this.x = Math.random() * fireworksCanvas.width;
                    this.y = fireworksCanvas.height;
                    this.targetY = Math.random() * fireworksCanvas.height * 0.6;
                    this.speed = 2 + Math.random() * 2;
                    this.color = `hsl(${Math.random() * 360}, 100%, 60%)`;
                    this.radius = 2 + Math.random() * 2;
                    this.exploded = false;
                }
                
                update() {
                    this.y -= this.speed;
                    
                    if (this.y <= this.targetY && !this.exploded) {
                        this.explode();
                    }
                    
                    if (this.exploded) {
                        this.radius -= 0.02;
                        if (this.radius <= 0) {
                            return true;
                        }
                    }
                    
                    return false;
                }
                
                explode() {
                    this.exploded = true;
                    const particleCount = 50 + Math.floor(Math.random() * 50);
                    
                    for (let i = 0; i < particleCount; i++) {
                        const angle = Math.random() * Math.PI * 2;
                        const speed = 1 + Math.random() * 3;
                        const size = 1 + Math.random() * 2;
                        
                        particles.push({
                            x: this.x,
                            y: this.y,
                            vx: Math.cos(angle) * speed,
                            vy: Math.sin(angle) * speed,
                            color: this.color,
                            radius: size,
                            alpha: 1,
                            decay: 0.015 + Math.random() * 0.01
                        });
                    }
                }
                
                draw() {
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                    ctx.fillStyle = this.color;
                    ctx.fill();
                    ctx.closePath();
                }
            }
            
            function animateFireworks() {
                requestAnimationFrame(animateFireworks);
                ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
                ctx.fillRect(0, 0, fireworksCanvas.width, fireworksCanvas.height);
                
                // Add new fireworks randomly
                if (Math.random() < 0.05) {
                    fireworks.push(new Firework());
                }
                
                // Update and draw fireworks
                for (let i = fireworks.length - 1; i >= 0; i--) {
                    if (fireworks[i].update()) {
                        fireworks.splice(i, 1);
                    } else {
                        fireworks[i].draw();
                    }
                }
                
                // Update and draw particles
                for (let i = particles.length - 1; i >= 0; i--) {
                    particles[i].x += particles[i].vx;
                    particles[i].y += particles[i].vy;
                    particles[i].vy += 0.05; // Gravity
                    particles[i].alpha -= particles[i].decay;
                    
                    if (particles[i].alpha <= 0) {
                        particles.splice(i, 1);
                    } else {
                        ctx.beginPath();
                        ctx.arc(particles[i].x, particles[i].y, particles[i].radius, 0, Math.PI * 2);
                        ctx.fillStyle = `${particles[i].color.slice(0, -1)}, ${particles[i].alpha})`;
                        ctx.fill();
                        ctx.closePath();
                    }
                }
            }
            
            animateFireworks();
            
            // Create confetti
            function createConfetti() {
                const colors = ['#ff5e62', '#ff9966', '#4facfe', '#00f2fe', '#ffc107', '#8e44ad'];
                
                for (let i = 0; i < 150; i++) {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + 'vw';
                    confetti.style.animationDuration = (Math.random() * 3 + 2) + 's';
                    confetti.style.animationDelay = (Math.random() * 5) + 's';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.width = (Math.random() * 10 + 5) + 'px';
                    confetti.style.height = (Math.random() * 10 + 5) + 'px';
                    confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                    document.body.appendChild(confetti);
                }
            }
            
            // Create balloons
            function createBalloons() {
                const colors = ['#ff5e62', '#ff9966', '#4facfe', '#00f2fe', '#ffc107', '#8e44ad'];
                
                for (let i = 0; i < 20; i++) {
                    const balloon = document.createElement('div');
                    balloon.className = 'balloon';
                    balloon.style.left = Math.random() * 100 + 'vw';
                    balloon.style.animationDelay = (Math.random() * 8) + 's';
                    balloon.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    balloon.style.animationDuration = (Math.random() * 10 + 15) + 's';
                    document.body.appendChild(balloon);
                }
            }
            
            // Start heart timer
            function startHeartTimer() {
                birthdayText.style.animation = 'fadeIn 1s ease-out forwards';
                heartTimer.style.display = 'block';
                
                let count = 3;
                const timer = setInterval(() => {
                    count--;
                    timerCount.textContent = count;
                    
                    if (count === 0) {
                        clearInterval(timer);
                        timerCount.textContent = '❤️';
                        
                        // Create mini explosion effect
                        createMiniExplosion();
                        
                        // Show birthday wish after timer completes
                        setTimeout(() => {
                            heartTimer.style.display = 'none';
                            showBirthdayWish();
                        }, 1000);
                    }
                }, 1000);
            }
            
            // Create mini explosion effect
            function createMiniExplosion() {
                for (let i = 0; i < 30; i++) {
                    const spark = document.createElement('div');
                    spark.style.position = 'absolute';
                    spark.style.width = '8px';
                    spark.style.height = '8px';
                    spark.style.borderRadius = '50%';
                    spark.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 60%)`;
                    spark.style.left = '50%';
                    spark.style.top = '50%';
                    spark.style.transform = 'translate(-50%, -50%)';
                    
                    const angle = Math.random() * Math.PI * 2;
                    const distance = 50 + Math.random() * 100;
                    const duration = 500 + Math.random() * 500;
                    
                    spark.style.animation = `
                        sparkleX ${duration}ms ease-out forwards,
                        sparkleY ${duration}ms ease-out forwards,
                        fadeOut ${duration}ms ease-out forwards
                    `;
                    
                    document.body.appendChild(spark);
                    
                    // Clean up after animation
                    setTimeout(() => {
                        spark.remove();
                    }, duration);
                }
                
                // Add CSS for spark animation
                const style = document.createElement('style');
                style.textContent = `
                    @keyframes sparkleX {
                        from { left: 50%; }
                        to { left: calc(50% + ${Math.cos(0) * 100}px); }
                    }
                    @keyframes sparkleY {
                        from { top: 50%; }
                        to { top: calc(50% + ${Math.sin(0) * 100}px); }
                    }
                    @keyframes fadeOut {
                        from { opacity: 1; }
                        to { opacity: 0; }
                    }
                `;
                document.head.appendChild(style);
            }
            
            // Show birthday wish
            function showBirthdayWish() {
                birthdayWish.style.display = 'block';
                continueBtn1.style.display = 'block';
                
                setTimeout(() => {
                    birthdayWish.classList.add('show');
                }, 100);
                
                // Add event listener to first continue button
                continueBtn1.addEventListener('click', showLoveMessage);
            }
            
            // Show love message
            function showLoveMessage() {
                birthdayWish.style.display = 'none';
                continueBtn1.style.display = 'none';
                loveMessage.style.display = 'block';
                continueBtn2.style.display = 'block';
                
                setTimeout(() => {
                    loveMessage.classList.add('show');
                }, 100);
                
                // Add event listener to second continue button
                continueBtn2.addEventListener('click', openWhatsApp);
            }
            
            // Open WhatsApp
            function openWhatsApp() {
                const phoneNumber = '923221572417';
                const message = 'Thank you so much for the beautiful birthday wish!';
                const url = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
                
                window.open(url, '_blank');
            }
            
            // Skip animation function
            function skipAnimation() {
                // Hide all animation elements
                document.querySelectorAll('.confetti, .balloon').forEach(el => el.remove());
                
                // Stop fireworks animation
                fireworks = [];
                particles = [];
                
                // Show final content
                birthdayText.style.display = 'block';
                heartTimer.style.display = 'none';
                birthdayWish.style.display = 'block';
                birthdayWish.classList.add('show');
                continueBtn1.style.display = 'block';
                loveMessage.style.display = 'none';
                continueBtn2.style.display = 'none';
                
                // Add event listeners
                continueBtn1.addEventListener('click', showLoveMessage);
                continueBtn2.addEventListener('click', openWhatsApp);
            }
        });
    </script>
</body>
</html>